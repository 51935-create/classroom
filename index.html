<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classroom Tracker Pro (Color Edition)</title>
    <link rel="stylesheet" href="style401.css">
</head>
<body>

    <div id="login-screen" class="container center-screen">
        <div class="card login-card">
            <h2>üîê ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
            <input type="number" id="username" placeholder="‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà (0-30)" min="0" max="30">
            <input type="password" id="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
            <button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</button>
            <p id="login-error" class="error"></p>
        </div>
    </div>

    <div id="app-screen" class="hidden">
        <header>
            <div class="brand">üìÖ Classroom Tracker</div>
            <div class="user-info">
                <span id="display-user"></span> 
                <span class="badge" id="display-role"></span>
                <button id="btn-chg-pwd" onclick="openChangePwdModal()" class="btn-warning hidden">üîë ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™</button>
                <button onclick="logout()" class="btn-logout">‡∏≠‡∏≠‡∏Å</button>
            </div>
        </header>

        <div id="admin-controls" class="hidden toolbar">
            <button onclick="addSubject()" class="btn-primary">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏ä‡∏≤‡πÉ‡∏´‡∏°‡πà</button>
            <button onclick="openUserMgr()" class="btn-secondary">üë• ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô</button>
        </div>

        <div id="board" class="board-container"></div>
    </div>

    <div id="task-modal" class="modal hidden">
        <div class="modal-content">
            <h3 id="modal-title">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô</h3>
            <input type="hidden" id="modal-subject-id">
            <input type="hidden" id="modal-task-id">
            
            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏á‡∏≤‡∏ô:</label>
            <input type="text" id="modal-task-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏á‡∏≤‡∏ô...">
            
            <label>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:</label>
            <textarea id="modal-task-desc" rows="3" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î..."></textarea>
            
            <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡∏Å‡∏≤‡∏£‡πå‡∏î:</label>
            <div class="color-options">
                <div class="color-circle bg-white selected" onclick="selectColor(this, 'white')"></div>
                <div class="color-circle bg-gray" onclick="selectColor(this, 'gray')"></div>
                <div class="color-circle bg-red" onclick="selectColor(this, 'red')"></div>
                <div class="color-circle bg-yellow" onclick="selectColor(this, 'yellow')"></div>
                <div class="color-circle bg-green" onclick="selectColor(this, 'green')"></div>
            </div>
            <input type="hidden" id="modal-task-color" value="white">

            <div class="modal-actions">
                <button onclick="saveTaskFromModal()" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                <button onclick="closeModal('task-modal')" class="btn-cancel">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
        </div>
    </div>

    <div id="user-modal" class="modal hidden">
        <div class="modal-content">
            <h3>üë• ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô</h3>
            <p>‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏õ‡πá‡∏ô "1234"</p>
            <input type="number" id="reset-target-user" placeholder="‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà (1-30)">
            <div class="modal-actions">
                <button onclick="resetPasswordAction()" class="btn-danger">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
                <button onclick="closeModal('user-modal')" class="btn-cancel">‡∏õ‡∏¥‡∏î</button>
            </div>
        </div>
    </div>

    <div id="change-pwd-modal" class="modal hidden">
        <div class="modal-content">
            <h3>üîë ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</h3>
            <input type="password" id="old-pass" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏°">
            <input type="password" id="new-pass" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà">
            <input type="password" id="confirm-pass" placeholder="‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà">
            <div class="modal-actions">
                <button onclick="changeOwnPassword()" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                <button onclick="closeModal('change-pwd-modal')" class="btn-cancel">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
        </div>
    </div>

    <script src="script401.js"></script>
</body>
</html>

 
